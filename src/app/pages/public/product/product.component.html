<section class="mt-5 p-3 md:p-8 bg-[#FFF6E6] relative overflow-hidden">
  <!-- Elementos decorativos maximalistas -->
  <div class="absolute -top-20 -left-20 w-40 h-40 bg-[#FF3CAC] rounded-full opacity-20 animate-pulse"></div>
  <div class="absolute -bottom-10 -right-10 w-60 h-60 bg-[#B8FF00] rounded-full opacity-15 animate-spin-slow"></div>
  
  <div class="container mx-auto flex flex-col md:flex-row gap-8 relative z-10">
    
    <!-- Carrusel de Imágenes - Versión Maximalista -->
    <div class="w-full md:w-1/2 bg-[#FF6A00] rounded-3xl p-4 md:p-6 shadow-[0_20px_50px_-10px_rgba(255,106,0,0.5)] transform transition-all hover:scale-[1.01] hover:shadow-[0_25px_60px_-15px_rgba(255,106,0,0.6)]">
      <div id="carouselExampleIndicators" class="carousel slide relative group">
        
        <!-- Indicadores con estilo dulce -->
        <div class="carousel-indicators flex justify-center space-x-2 pb-4" *ngIf="product.images?.length > 1">
          <button
            *ngFor="let img of product.images; let i = index"
            type="button"
            [attr.data-bs-target]="'#carouselExampleIndicators'"
            [attr.data-bs-slide-to]="i"
            [class.active]="i === 0"
            [attr.aria-current]="i === 0 ? 'true' : null"
            [attr.aria-label]="'Slide ' + (i + 1)"
            class="w-3 h-3 rounded-full bg-white/50 hover:bg-[#B8FF00] transition-all duration-300 border-2 border-[#FFD100] shadow-sm">
          </button>
        </div>

        <div class="carousel-inner rounded-xl overflow-hidden border-4 border-[#FFD100] shadow-inner">
          <!-- Si hay imágenes -->
          <div
            *ngFor="let img of product.images; let i = index"
            class="carousel-item transition-transform duration-1000 ease-in-out"
            [class.active]="i === 0">
            <img [src]="img.cloudinary_url" class="w-full h-[350px] object-cover hover:scale-105 transition-transform duration-500" alt="Imagen del producto {{product.id}}">
          </div>

          <!-- Si NO hay imágenes -->
          <div *ngIf="!product.images || product.images.length === 0" class="carousel-item active">
            <img src="/imgs/default.jpg" class="w-full h-[350px] object-cover" alt="Imagen no disponible">
          </div>
        </div>

        <!-- Controles con estilo dulce -->
        <button *ngIf="product.images?.length > 1"
          class="carousel-control-prev absolute left-2 top-1/2 -translate-y-1/2 bg-[#FF3CAC]/80 hover:bg-[#FF3CAC] w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover:opacity-100"
          type="button"
          data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon inline-block w-6 h-6 bg-no-repeat" style="background-image: url(&quot;data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 16 16'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e&quot;)"></span>
          <span class="visually-hidden">Anterior</span>
        </button>

        <button *ngIf="product.images?.length > 1"
          class="carousel-control-next absolute right-2 top-1/2 -translate-y-1/2 bg-[#005DFF]/80 hover:bg-[#005DFF] w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 opacity-0 group-hover:opacity-100"
          type="button"
          data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon inline-block w-6 h-6 bg-no-repeat" style="background-image: url(&quot;data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='%23fff' viewBox='0 0 16 16'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e&quot;)"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
    </div>

    <!-- Detalles del Producto - Versión Extravagante -->
    <div class="w-full md:w-1/2 bg-gradient-to-br from-[#FF3CAC] to-[#FF6A00] text-white rounded-3xl p-6 shadow-[0_20px_50px_-10px_rgba(255,60,172,0.5)] transform transition-all hover:scale-[1.01] hover:shadow-[0_25px_60px_-15px_rgba(255,60,172,0.6)]">
      <!-- Título con efecto neón -->
      <h1 class="text-4xl font-extrabold mb-2">
        {{ product.name }}
      </h1>

      <h1 *ngIf="isLoading" class="placeholder-glow">
        <span class="placeholder block h-8 bg-[#B8FF00]/50 w-full rounded-full animate-pulse"></span>
      </h1>

      <!-- Precio con efecto rebote -->
      <div class="mt-6 flex flex-col md:flex-row justify-between items-start gap-6 animate-bounce-in">
        <div>
          <p class="text-3xl font-black text-[#B8FF00] drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]" [class.opacity-0]="isLoading" [class.opacity-100]="!isLoading">
            ${{ product.price }}
          </p>
          <p class="text-lg line-through text-[#FFF6E6] font-bold" [class.opacity-0]="isLoading" [class.opacity-100]="!isLoading">
            ${{ product.discount }}
          </p>
        </div>
        <div class="bg-[#005DFF] px-4 py-2 rounded-full transform rotate-1 hover:rotate-3 transition-transform">
          <p class="text-sm font-bold" [class.opacity-0]="isLoading" [class.opacity-100]="!isLoading">
            IVA incluido 
          </p>
        </div>
      </div>

      <!-- Descripción con efecto de aparición -->
      <div class="mt-8 animate-fade-in-up">
        <p *ngIf="!isLoading" class="text-xl font-extrabold mb-3 flex items-center">
          <span class="inline-block w-6 h-6 bg-[#FFD100] rounded-full mr-2"></span>
          Descripción:
        </p>
        <div *ngIf="isLoading" class="placeholder-glow space-y-2">
          <span class="placeholder block h-4 w-full bg-[#B8FF00]/30 rounded-full"></span>
          <span class="placeholder block h-4 w-3/4 bg-[#B8FF00]/30 rounded-full"></span>
          <span class="placeholder block h-4 w-5/6 bg-[#B8FF00]/30 rounded-full"></span>
        </div>
        <div [innerHTML]="product.description" class="text-lg font-medium leading-relaxed backdrop-blur-sm bg-white/10 p-4 rounded-xl"></div>
      </div>
    </div>
  </div>
</section>

<!-- Sección de productos similares con efectos psicodélicos -->
<section class="py-16 bg-gradient-to-b from-[#FFF6E6] to-[#FFD100]/20 relative overflow-hidden">
  <!-- Elementos decorativos flotantes -->
  <div class="absolute top-10 left-1/4 w-16 h-16 bg-[#FF3CAC]/40 rounded-full animate-float-1"></div>
  <div class="absolute top-1/3 right-20 w-24 h-24 bg-[#005DFF]/30 rounded-full animate-float-2"></div>
  <div class="absolute bottom-20 left-20 w-20 h-20 bg-[#B8FF00]/40 rounded-full animate-float-3"></div>
  
  <div class="container mx-auto relative z-10">
    <!-- Título con efecto arcoíris -->
    <h1 class="text-5xl font-extrabold text-center mb-12 relative animate-text-gradient">
  <span class="relative z-10 px-6 py-2 bg-[#FF6A00] rounded-full border-4 border-[#FF6A00] shadow-lg bg-clip-text text-transparent">
    PRODUCTOS SIMILARES
  </span>
    </h1>

    <!-- Mensaje de carga animado -->
    <div *ngIf="isLoading" class="flex flex-col items-center justify-center py-12">
      <div class="relative w-24 h-24">
        <div class="absolute inset-0 rounded-full border-8 border-t-[#FF6A00] border-r-[#FF3CAC] border-b-[#B8FF00] border-l-[#005DFF] animate-spin"></div>
        <div class="absolute inset-4 rounded-full border-8 border-t-[#FFD100] border-r-[#FF6A00] border-b-[#FF3CAC] border-l-[#B8FF00] animate-spin-reverse"></div>
      </div>
      <p class="mt-6 text-2xl font-bold text-[#4B2E18] animate-pulse">
        Cargando dulces deliciosos...
      </p>
    </div>

    <!-- Mensaje si no hay productos -->
    <div *ngIf="!isLoading && similarProducts.length === 0" class="text-center py-12 animate-bounce">
      <div class="inline-block bg-[#FF3CAC] text-white px-6 py-4 rounded-full shadow-lg transform rotate-2">
        <p class="text-2xl font-bold mb-3">¡Oh no! No hay productos disponibles</p>
        <img src="/imgs/sad.svg" alt="Triste" class="w-24 mx-auto animate-wiggle" />
      </div>
    </div>

    <!-- Carrusel de productos con efectos extravagantes -->
    <div *ngIf="similarProducts.length >= 0 && !isLoading" class="py-8">
      <owl-carousel-o [options]="customOptions">
        <ng-container *ngFor="let product of similarProducts; let i = index">
          <ng-template carouselSlide>
            <div
              class="relative rounded-3xl bg-white m-4 overflow-hidden transition-all duration-500 cursor-pointer shadow-[0_10px_25px_-5px_rgba(0,0,0,0.2)] hover:shadow-[0_25px_50px_-12px_rgba(255,106,0,0.4)] hover:-translate-y-3"
              (click)="navigateToProduct(product.id)"
              [style.animation-delay]="i*100 + 'ms'">
              
              
              <!-- Imagen con efecto zoom y brillo -->
              <div class="relative overflow-hidden h-72">
                <div class="absolute inset-0 bg-gradient-to-t from-[#4B2E18]/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 z-10"></div>
                <img
                  [src]="product.images?.[0]?.cloudinary_url || '/imgs/default.jpg'"
                  alt="{{ product.name }}"
                  class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" />
                <div class="absolute inset-0 bg-[#FFD100]/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500 mix-blend-overlay"></div>
              </div>

              <!-- Contenido con fondo degradado -->
              <div class="p-6 bg-gradient-to-br from-[#FFF6E6] to-white relative overflow-hidden">
                
                <h5 class="text-2xl font-extrabold text-[#4B2E18] mb-2 truncate group-hover:text-[#FF6A00] transition-colors">{{ product.name }}</h5>
                
                <!-- Precio con efecto de cambio de color -->
                <p class="text-transparent bg-clip-text bg-gradient-to-r from-[#FF6A00] to-[#FF3CAC] font-black text-3xl mb-4 group-hover:bg-gradient-to-r group-hover:from-[#B8FF00] group-hover:to-[#005DFF] transition-all duration-500">
                  ${{ product.price }}
                </p>
                
                <div class="flex justify-between items-center">
                  <!-- Disponibilidad con efecto de brillo -->
                  <span class="inline-block px-5 py-2 text-sm font-black rounded-full bg-gradient-to-r from-[#B8FF00] to-[#FFD100] text-[#4B2E18] shadow-md hover:shadow-[0_0_20px_5px_rgba(184,255,0,0.5)] transition-all">
                    ¡DISPONIBLE! 
                  </span>
                  
                  <!-- Botón con efecto de expansión -->
                  <button class="text-[#005DFF] hover:text-[#FF6A00] font-extrabold flex items-center group/button transition-all">
                    <span class="group-hover/button:underline">Ver más</span> 
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 ml-1 group-hover/button:translate-x-2 transition-transform" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </ng-template>
        </ng-container>
      </owl-carousel-o>
    </div>
  </div>
</section>

